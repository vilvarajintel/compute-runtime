<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NEO: VTUNE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NEO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">VTUNE </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md115"></a>
Using NEO runtime with VTune Amplifier</h1>
<p >You can use the Intel VTune Amplifier to identify GPU "hotspots". It will show GPGPU queue, GPU usage, memory throughputs, etc. Using this tool, you can compare how the application behaves under different configurations (LWS, GWS, driver versions, etc.) and identify bottlenecks.</p>
<h2><a class="anchor" id="autotoc_md116"></a>
Requirements</h2>
<ul>
<li><a href="https://software.intel.com/en-us/intel-vtune-amplifier-xe">Intel(R) VTune(tm) Amplifier</a></li>
<li><a href="https://software.intel.com/en-us/intel-opencl/download">Intel(R) SDK for OpenCL(tm) Applications</a></li>
<li><a href="https://github.com/intel/metrics-discovery">Intel(R) Metrics Discovery Application Programming Interface</a></li>
<li>Current Intel(R) OpenCL(tm) GPU driver</li>
</ul>
<h2><a class="anchor" id="autotoc_md117"></a>
Installation</h2>
<p >Note: This is an example. Actual filenames may differ</p>
<ol type="1">
<li>Install OpenCL SDK &amp; VTune</li>
</ol>
<div class="fragment"><div class="line">cd</div>
<div class="line">tar xvf intel_sdk_for_opencl_2017_7.0.0.2568_x64.gz</div>
<div class="line">tar xvf vtune_amplifier_2018_update2.tar.gz</div>
<div class="line">sudo dpkg -i intel-opencl_18.26.10987_amd64.deb</div>
<div class="line">cd ~/intel_sdk_for_opencl_2017_7.0.0.2568_x64/; sudo ./install_GUI.sh</div>
<div class="line">cd ~/vtune_amplifier_2018_update2/; sudo ./install_GUI.sh #use offline activation with file</div>
</div><!-- fragment --><p >To verify that VTune was installed properly run:</p>
<div class="fragment"><div class="line">lsmod | grep sep4</div>
</div><!-- fragment --><p >This should return 2 lines. Otherwise follow sepdk installation in VTune documentation.</p>
<ol type="1">
<li>Compile and install MD API - see MD API <a href="https://github.com/intel/metrics-discovery/blob/master/README.md">README</a> for instructions.</li>
</ol>
<h2><a class="anchor" id="autotoc_md118"></a>
Running VTune</h2>
<div class="fragment"><div class="line">/opt/intel/vtune_amplifier_2018/bin64/amplxe-gui</div>
</div><!-- fragment --><p >Note: If you built Metrics Discovery with libstdc++ &gt; 3.4.20, please use the following workaround:</p>
<div class="fragment"><div class="line">sudo sh -c &#39;LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libstdc++.so.6 /opt/intel/vtune_amplifier_2018/bin64/amplxe-gui&#39;</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
