<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NEO: drm_i915_gem_busy Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NEO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structdrm__i915__gem__busy-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">drm_i915_gem_busy Struct Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for drm_i915_gem_busy:</div>
<div class="dyncontent">
<div class="center"><img src="structdrm__i915__gem__busy__coll__graph.png" border="0" usemap="#adrm__i915__gem__busy_coll__map" alt="Collaboration graph"/></div>
<map name="adrm__i915__gem__busy_coll__map" id="adrm__i915__gem__busy_coll__map">
<area shape="rect" title=" " alt="" coords="5,5,147,97"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa9a872a8f3ecca54558e6854197b63c6"><td class="memItemLeft" align="right" valign="top">__u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrm__i915__gem__busy.html#aa9a872a8f3ecca54558e6854197b63c6">handle</a></td></tr>
<tr class="separator:aa9a872a8f3ecca54558e6854197b63c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4493eb723fcec70271293f785293182c"><td class="memItemLeft" align="right" valign="top">__u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrm__i915__gem__busy.html#a4493eb723fcec70271293f785293182c">busy</a></td></tr>
<tr class="separator:a4493eb723fcec70271293f785293182c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4493eb723fcec70271293f785293182c" name="a4493eb723fcec70271293f785293182c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4493eb723fcec70271293f785293182c">&#9670;&nbsp;</a></span>busy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 drm_i915_gem_busy::busy</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return busy status</p>
<p >A return of 0 implies that the object is idle (after having flushed any pending activity), and a non-zero return that the object is still in-flight on the GPU. (The GPU has not yet signaled completion for all pending requests that reference the object.) An object is guaranteed to become idle eventually (so long as no new GPU commands are executed upon it). Due to the asynchronous nature of the hardware, an object reported as busy may become idle before the ioctl is completed.</p>
<p >Furthermore, if the object is busy, which engine is busy is only provided as a guide and only indirectly by reporting its class (there may be more than one engine in each class). There are race conditions which prevent the report of which engines are busy from being always accurate. However, the converse is not true. If the object is idle, the result of the ioctl, that all engines are idle, is accurate.</p>
<p >The returned dword is split into two fields to indicate both the engine classess on which the object is being read, and the engine class on which it is currently being written (if any).</p>
<p >The low word (bits 0:15) indicate if the object is being written to by any engine (there can only be one, as the GEM implicit synchronisation rules force writes to be serialised). Only the engine class (offset by 1, I915_ENGINE_CLASS_RENDER is reported as 1 not 0 etc) for the last write is reported.</p>
<p >The high word (bits 16:31) are a bitmask of which engines classes are currently reading from the object. Multiple engines may be reading from the object simultaneously.</p>
<p >The value of each engine class is the same as specified in the I915_CONTEXT_SET_ENGINES parameter and via perf, i.e. I915_ENGINE_CLASS_RENDER, I915_ENGINE_CLASS_COPY, etc. reported as active itself. Some hardware may have parallel execution engines, e.g. multiple media engines, which are mapped to the same class identifier and so are not separately reported for busyness.</p>
<p >Caveat emptor: Only the boolean result of this query is reliable; that is whether the object is idle or busy. The report of which engines are busy should be only used as a heuristic.</p>
<p >Return busy status</p>
<p >A return of 0 implies that the object is idle (after having flushed any pending activity), and a non-zero return that the object is still in-flight on the GPU. (The GPU has not yet signaled completion for all pending requests that reference the object.) An object is guaranteed to become idle eventually (so long as no new GPU commands are executed upon it). Due to the asynchronous nature of the hardware, an object reported as busy may become idle before the ioctl is completed.</p>
<p >Furthermore, if the object is busy, which engine is busy is only provided as a guide and only indirectly by reporting its class (there may be more than one engine in each class). There are race conditions which prevent the report of which engines are busy from being always accurate. However, the converse is not true. If the object is idle, the result of the ioctl, that all engines are idle, is accurate.</p>
<p >The returned dword is split into two fields to indicate both the engine classess on which the object is being read, and the engine class on which it is currently being written (if any).</p>
<p >The low word (bits 0:15) indicate if the object is being written to by any engine (there can only be one, as the GEM implicit synchronisation rules force writes to be serialised). Only the engine class (offset by 1, I915_ENGINE_CLASS_RENDER is reported as 1 not 0 etc) for the last write is reported.</p>
<p >The high word (bits 16:31) are a bitmask of which engines classes are currently reading from the object. Multiple engines may be reading from the object simultaneously.</p>
<p >The value of each engine class is the same as specified in the I915_CONTEXT_PARAM_ENGINES context parameter and via perf, i.e. I915_ENGINE_CLASS_RENDER, I915_ENGINE_CLASS_COPY, etc. Some hardware may have parallel execution engines, e.g. multiple media engines, which are mapped to the same class identifier and so are not separately reported for busyness.</p>
<p >Caveat emptor: Only the boolean result of this query is reliable; that is whether the object is idle or busy. The report of which engines are busy should be only used as a heuristic. </p>

</div>
</div>
<a id="aa9a872a8f3ecca54558e6854197b63c6" name="aa9a872a8f3ecca54558e6854197b63c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9a872a8f3ecca54558e6854197b63c6">&#9670;&nbsp;</a></span>handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 drm_i915_gem_busy::handle</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Handle of the buffer to check for busy </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>third_party/uapi/dg1/drm/<a class="el" href="dg1_2drm_2i915__drm_8h_source.html">i915_drm.h</a></li>
<li>third_party/uapi/drm/<a class="el" href="drm_2i915__drm_8h_source.html">i915_drm.h</a></li>
<li>third_party/uapi/prelim/drm/<a class="el" href="prelim_2drm_2i915__drm_8h_source.html">i915_drm.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
